(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{178:function(e,t,a){e.exports=a(278)},183:function(e,t,a){},185:function(e,t,a){},208:function(e,t,a){},234:function(e,t){},257:function(e,t){},259:function(e,t){},266:function(e,t,a){},267:function(e,t){},268:function(e,t,a){},269:function(e,t,a){},270:function(e,t,a){},275:function(e,t,a){},276:function(e,t,a){},277:function(e,t,a){},278:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),l=a.n(c),o=(a(183),a(17)),i=a.n(o),s=a(81),u=a(27),m=a(9),p=(a(185),a(22)),d=a(6),E=a(320),f=a(341),b=a(145),g=a.n(b),O=a(58),h=a(339),j=a(322),v=a(318),y=a(315),N=a(16),k=a(7),I=function(e){return{type:"REGISTRATION",payload:Object(d.a)({},e)}},_=function(e){return{type:"LOGIN",payload:Object(d.a)({},e)}},S=Object(y.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1),fontSize:20},submit:{margin:e.spacing(3,0,2)}}})),w=function(e){var t=e.title,a=e.isReg,c=e.setLoggedIn,l=S(),o=Object(N.g)(),s=r.a.useRef(),b=Object(n.useState)({}),y=Object(m.a)(b,2),w=y[0],D=y[1],x=Object(n.useState)(""),C=Object(m.a)(x,2),T=C[0],R=C[1],A=Object(k.b)();function M(e){var t=e.target,a=t.value,n=t.name;D(Object(d.a)(Object(d.a)({},w),{},Object(p.a)({},n,a)))}function G(){return(G=Object(u.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,fetch("".concat("https://workkeeper.ru","/user/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)});case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,a.ok?(A(_(n)),A({type:"IS_ME",payload:{}}),D({email:"",password:""}),c(!0),o.push("/")):R(n.message),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function z(){return(z=Object(u.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,fetch("".concat("https://workkeeper.ru","/user/registration"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)});case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,a.ok?(A(I(n)),A({type:"IS_ME",payload:{}}),D({name:"",email:"",password:""}),c(!0),o.push("/")):R(n.message),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}return r.a.createElement(v.a,{component:"main",maxWidth:"xs"},r.a.createElement(E.a,null),r.a.createElement("div",{className:l.paper},r.a.createElement(f.a,{className:l.avatar},r.a.createElement(g.a,null)),r.a.createElement(O.a,{component:"h1",variant:"h5"},t),r.a.createElement("form",{ref:s,onSubmit:a?function(e){return z.apply(this,arguments)}:function(e){return G.apply(this,arguments)},className:l.form,noValidate:!0},a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{variant:"outlined",margin:"normal",fullWidth:!0,name:"name",label:"\u0418\u043c\u044f",id:"name",autoComplete:"current-password",onChange:M,autoFocus:!0,required:!0}),r.a.createElement(h.a,{variant:"outlined",margin:"normal",fullWidth:!0,name:"surname",label:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",id:"surname",autoComplete:"current-password",onChange:M,required:!0})),r.a.createElement(h.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"email",label:"Email",name:"email",autoComplete:"email",onChange:M,required:!0,autoFocus:!0}),r.a.createElement(h.a,{variant:"outlined",margin:"normal",fullWidth:!0,name:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",id:"password",autoComplete:"current-password",onChange:M,required:!0}),r.a.createElement("span",{style:{color:"red",fontSize:"small"}},T),r.a.createElement(j.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:l.submit,onClick:function(){return s.current.reportValidity()}},t))))},D=function(e){var t=e.setLoggedIn;return r.a.createElement(w,{title:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",isReg:!0,setLoggedIn:t})};var x=function(e){var t=e.setLoggedIn;return r.a.createElement(w,{title:"\u0412\u043e\u0439\u0442\u0438",setLoggedIn:t})};var C=function(e){var t=e.children,a=Object(s.a)(e,["children"]),n=Object(k.c)((function(e){return e.aboutMe}));return r.a.createElement(N.b,Object.assign({},a,{render:function(e){var a=e.location;return n.isMe?t:r.a.createElement(N.a,{to:{pathname:"/user/login",state:{from:a}}})}}))},T=a(96),R=a.n(T),A=(a(208),a(25)),M=function(e,t){switch(t.type){case"JOINED":return Object(d.a)(Object(d.a)({},e),{},{joined:!0,userName:t.payload.userName,roomId:t.payload.roomId});case"SET_DATA":return Object(d.a)(Object(d.a)({},e),{},{users:t.payload.users,messages:t.payload.messages});case"SET_USERS":return Object(d.a)(Object(d.a)({},e),{},{users:t.payload});case"NEW_MESSAGE":return Object(d.a)(Object(d.a)({},e),{},{messages:[].concat(Object(A.a)(e.messages),[t.payload])});default:return e}};var G=function(e){var t=e.users,a=e.messages,c=e.userName,l=e.roomId,o=e.onAddMessage,i=e.userInfo,s=e.socketRef,u=r.a.useState(""),p=Object(m.a)(u,2),d=p[0],E=p[1],f=r.a.useRef(null),b=function(){d.trim()&&(s.current.emit("ROOM:NEW_MESSAGE",{userName:c,roomId:l,text:d}),o({userName:c,text:d}),E(""))};return Object(n.useEffect)((function(){f.current.scrollTo(0,99999)}),[a]),r.a.createElement("div",{className:"chat"},r.a.createElement("div",{className:"chat-users"},r.a.createElement("b",null,"\u041e\u043d\u043b\u0430\u0439\u043d (",t.length,"):"),r.a.createElement("ul",null,t.map((function(e,t){return r.a.createElement("li",{key:e+t},e)})))),r.a.createElement("div",{className:"chat-messages"},r.a.createElement("div",{ref:f,className:"messages"},a.map((function(e,t){return e.userName===i?r.a.createElement("div",{key:t,style:{textAlign:"right"},className:"message"},r.a.createElement("p",{style:{backgroundColor:"#29648A"}},e.text),r.a.createElement("div",null,r.a.createElement("span",null,e.userName))):r.a.createElement("div",{key:t,className:"message"},r.a.createElement("p",null,e.text),r.a.createElement("div",null,r.a.createElement("span",null,e.userName)))}))),r.a.createElement("form",null,r.a.createElement("textarea",{value:d,onChange:function(e){return E(e.target.value)},className:"form-control",rows:"3",onKeyDown:function(e){var t;13===(t=e).keyCode&&0==t.shiftKey&&b()}}),r.a.createElement(j.a,{onClick:b,type:"button",className:"btn btn-primary"},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"))))},z=a(80),F=a.n(z);var P=function(){var e=Object(k.c)((function(e){return e.user})),t=e.name,a=e.surname,c=Object(k.c)((function(e){return e.department.chat})),l=Object(n.useRef)(),o=Object(n.useReducer)(M,{joined:!1,roomId:null,userName:null,users:[],messages:[]}),s=Object(m.a)(o,2),p=s[0],d=s[1];Object(n.useEffect)((function(){return l.current=F()("https://workkeeper.ru"),Object(u.a)(i.a.mark((function e(){var n,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={roomId:c,userName:t+" "+a},l.current.emit("ROOM:JOIN",n),e.next=4,R.a.post("".concat("https://workkeeper.ru","/rooms"),n);case 4:return d({type:"JOINED",payload:n}),e.next=7,R.a.get("".concat("https://workkeeper.ru","/rooms/").concat(n.roomId));case 7:r=e.sent,o=r.data,d({type:"SET_DATA",payload:o});case 10:case"end":return e.stop()}}),e)})))(),function(){l.current.disconnect()}}),[]),Object(n.useEffect)((function(){l.current.on("ROOM:SET_USERS",E),l.current.on("ROOM:NEW_MESSAGE",f)}),[]);var E=function(e){d({type:"SET_USERS",payload:e})},f=function(e){d({type:"NEW_MESSAGE",payload:e})};return r.a.createElement(G,Object.assign({userInfo:t+" "+a,socketRef:l},p,{onAddMessage:f}))},L=a(146),B=a(97),W=a.n(B),J=a(147),K=a.n(J),U=a(148),V=a.n(U),q=a(149),Z=a.n(q),Y=a(150),H=a.n(Y),X=(a(266),function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){e.peer.on("stream",(function(e){t.current.srcObject=e}))}),[]),r.a.createElement("video",{autoPlay:!0,ref:t})}),Q=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],c=t[1],l=Object(n.useRef)(),o=Object(n.useRef)(),i=Object(n.useRef)([]),s=Object(k.c)((function(e){return e.department.videoConf})),u=Object(n.useRef)(),p=Object(n.useState)(!0),d=Object(m.a)(p,2),E=d[0],f=d[1],b=Object(n.useState)(!1),g=Object(m.a)(b,2),O=g[0],h=g[1];function j(e,t,a){var n=new W.a({initiator:!0,trickle:!1,stream:a}),r=0;return n.on("signal",(function(a){r||(r++,l.current.emit("sending signal",{userToSignal:e,callerID:t,signal:a}))})),n}return Object(n.useEffect)((function(){return l.current=F.a.connect("https://workkeeper.ru"),navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){o.current.srcObject=e,u.current=e,u.current.getAudioTracks()[0].enabled=O,l.current.emit("join room",s),l.current.on("all users",(function(t){var a,n=[],r=Object(L.a)(t);try{for(r.s();!(a=r.n()).done;){var o=a.value,s=j(o,l.current.id,e);i.current.push({peerID:o,peer:s}),n.push({peerID:o,peer:s})}}catch(u){r.e(u)}finally{r.f()}c(n)})),l.current.on("user joined",(function(t){var a=function(e,t,a){var n=new W.a({initiator:!1,trickle:!1,stream:a});return n.on("signal",(function(e){l.current.emit("returning signal",{signal:e,callerID:t})})),n.signal(e),n}(t.signal,t.callerID,e);i.current.push({peerID:t.callerID,peer:a});var n={peerID:t.callerID,peer:a};c((function(e){var t=e.filter((function(e){return e.peerID!==n.peerID}));return[].concat(Object(A.a)(t),[n])}))})),l.current.on("receiving returned signal",(function(e){i.current.find((function(t){return t.peerID===e.id})).peer.signal(e.signal)})),l.current.on("user left",(function(e){var t=i.current.find((function(t){return t.peerID===e}));if(t){t.peer.destroy();var a=i.current.filter((function(t){return t.peerID!==e}));i.current=a,c(a)}}))})),function(){u.current.getTracks().forEach((function(e){return e.stop()})),l.current.destroy()}}),[]),Object(n.useEffect)((function(){u.current&&u.current.getVideoTracks()[0]&&u.current.getVideoTracks()[0].enabled!==E&&(u.current.getVideoTracks()[0].enabled=E),u.current&&u.current.getAudioTracks()[0]&&u.current.getAudioTracks()[0].enabled!==O&&(u.current.getAudioTracks()[0].enabled=O)}),[E,O]),r.a.createElement("div",{className:"videochat-container"},r.a.createElement("div",{className:"videochat-user"},r.a.createElement("video",{muted:!0,ref:o,autoPlay:!0}),r.a.createElement("div",{className:"videochat-user-buttons"},O?r.a.createElement("button",{onClick:function(){return h((function(e){return!e}))}},r.a.createElement(K.a,null)," "):r.a.createElement("button",{className:"red",onClick:function(){return h((function(e){return!e}))}},r.a.createElement(V.a,null)," "),E?r.a.createElement("button",{onClick:function(){return f((function(e){return!e}))}},r.a.createElement(Z.a,null)," "):r.a.createElement("button",{className:"red",onClick:function(){return f((function(e){return!e}))}},r.a.createElement(H.a,null)," "))),r.a.createElement("div",{className:"videochat-companions"},a.map((function(e){return r.a.createElement(X,{key:e.peerID,peer:e.peer})}))))},$=a(323),ee=a(327),te=a(325),ae=a(326),ne=a(324),re=function(e,t){return{type:"DEP_TO_ORG",payload:{orgID:e,depObj:t}}},ce=function(e,t){return{type:"DEP_ADD_DEP",payload:{orgID:e,depObject:t}}},le=function(e,t,a){return{type:"WORKER_TO_DEP",payload:{orgID:e,depID:t,workerObj:a}}};function oe(e){var t=e.open,a=e.handleClose,c=Object(n.useState)(""),l=Object(m.a)(c,2),o=l[0],s=l[1],p=Object(k.b)(),E=function(){var e=Object(u.a)(i.a.mark((function e(){var t,n,r,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a(),t=JSON.parse(localStorage.getItem("redux")),n=t.user.userID,e.prev=2,!o.trim()){e.next=12;break}return r={nameOrg:o.trim(),userID:n},e.next=7,fetch("".concat("https://workkeeper.ru","/organization"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 7:return c=e.sent,e.next=10,c.json();case 10:l=e.sent,c.ok&&(p((i=l,{type:"ORG_ADD_ORG",payload:Object(d.a)({},i)})),p({type:"ORG_KEY_IN_DEP",payload:{orgID:l._id}}));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0);case 17:case"end":return e.stop()}var i}),e,null,[[2,14]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement($.a,{open:t,onClose:a,"aria-labelledby":"form-dialog-title"},r.a.createElement(ne.a,{id:"form-dialog-title"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044e"),r.a.createElement(te.a,null,r.a.createElement(ae.a,null,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0432\u0430\u0448\u0435\u0439 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438/\u043f\u0440\u0435\u0434\u043f\u0440\u0438\u044f\u0442\u0438\u044f:"),r.a.createElement("form",null,r.a.createElement(h.a,{margin:"dense",id:"name",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",type:"text",fullWidth:!0,onChange:function(e){return s(e.target.value)},autoFocus:!0}))),r.a.createElement(ee.a,null,r.a.createElement(j.a,{onClick:a,color:"primary"},"\u041e\u0442\u043c\u0435\u043d\u0430"),r.a.createElement(j.a,{onClick:E,color:"primary"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")))}var ie=a(12),se=(a(267),a(328)),ue=a(331),me=a(332),pe=a(330),de=(a(268),a(329)),Ee=a(53),fe=a.n(Ee),be=Object(y.a)({root:{width:250,height:250,alignItems:"center",display:"flex"},details:{display:"flex",flexDirection:"column"},content:{flex:"1 0 auto",marginTop:20},controls:{marginTop:50,display:"flex",justifyContent:"center",alignItems:"center"},playIcon:{height:50,width:50}}),ge=function(){var e=be(),t=Object(k.c)((function(e){return e.aboutMe.isCreator})),a=Object(k.c)((function(e){return e.organizations})),c=Object(n.useState)(!1),l=Object(m.a)(c,2),o=l[0],i=l[1],s=Object(k.c)((function(e){return e.departments})),u=Object(k.c)((function(e){return e.user}));return r.a.createElement(r.a.Fragment,null,t||a.map((function(e){return e.creator===u.userID}))[0]?r.a.createElement("div",{className:"profile-page"},r.a.createElement("h1",null,"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"),r.a.createElement("hr",null),r.a.createElement("div",{className:"profile-container"},r.a.createElement(se.a,{className:e.root},r.a.createElement("div",{className:e.details},r.a.createElement("div",{className:e.controls},r.a.createElement(de.a,{onClick:function(){i(!0)},"aria-label":"play/pause"},r.a.createElement(fe.a,{className:e.playIcon}))),r.a.createElement(pe.a,{className:e.content},r.a.createElement(O.a,{component:"h5",variant:"h5"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044e")))),o&&r.a.createElement(oe,{open:o,handleClose:function(){i(!1)}}),a.length?r.a.createElement(r.a.Fragment,null,a.map((function(t){return r.a.createElement(ie.b,{to:"/organization/".concat(t._id),key:t._id},r.a.createElement(se.a,{className:e.root},r.a.createElement(ue.a,null,r.a.createElement(me.a,{component:"img",alt:"Contemplative Reptile",height:"180",image:"https://static.tildacdn.com/tild3639-3835-4237-b964-623565623163/MoscowCityofficerentals.png",title:"Contemplative Reptile"}),r.a.createElement(pe.a,null,r.a.createElement(O.a,{style:{marginTop:10},gutterBottom:!0,variant:"h5",component:"h2"},t.name)))))}))):r.a.createElement("p",null,"\u041d\u0435\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0445 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0439"))):r.a.createElement(r.a.Fragment,null,Object.keys(s).length&&a.map((function(e){return e.creator!==u.userID}))?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"profile-page"},r.a.createElement("h1",null,"\u041c\u043e\u0438 \u043e\u0442\u0434\u0435\u043b\u044b"),r.a.createElement("hr",null),r.a.createElement("div",{className:"profile-container"},Object.values(s).map((function(t){return t.map((function(t){return r.a.createElement(ie.b,{to:"/department/".concat(t._id),key:t._id},r.a.createElement(se.a,{className:e.root},r.a.createElement(ue.a,null,r.a.createElement(me.a,{component:"img",alt:"Contemplative Reptile",height:"170",image:"https://cdnb.artstation.com/p/assets/images/images/001/973/811/large/leva-tuskliy-4.jpg?1455395165",title:"Contemplative Reptile"}),r.a.createElement(pe.a,null,r.a.createElement(O.a,{style:{marginTop:10},gutterBottom:!0,variant:"h6",component:"h6"},t.name)))))}))}))))):r.a.createElement("p",null," \u0423\u0432\u0430\u0436\u0430\u0435\u043c\u044b\u0439 ",u.name+" "+u.surname,", \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435, \u043f\u043e\u043a\u0430 \u0412\u0430\u0441 \u0434\u043e\u0431\u0430\u0432\u044f\u0442 \u0432 \u0441\u043f\u0438\u0441\u043e\u043a \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435 ")))},Oe=a(3),he=a(29),je=a(340),ve=a(333),ye=a(334),Ne=a(321),ke=a(335),Ie=a(151),_e=a.n(Ie),Se=a(153),we=a.n(Se),De=a(152),xe=a.n(De),Ce=a(336),Te=a(337),Re=a(338),Ae=a(154),Me=a.n(Ae),Ge=a(161),ze=a.n(Ge),Fe=a(162),Pe=a.n(Fe),Le=a(160),Be=a.n(Le),We=a(159),Je=a.n(We),Ke=a(155),Ue=a.n(Ke),Ve=a(156),qe=a.n(Ve),Ze=a(157),Ye=a.n(Ze),He=a(158),Xe=a.n(He),Qe=(a(269),Object(y.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(p.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(d.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)}}})));function $e(e){var t,a,n=e.children,c=e.setLoggedIn,l=Object(N.g)(),o=Object(k.c)((function(e){return e.aboutMe})),i=Object(k.c)((function(e){return e.user})),s=i.userID,u=i.name,d=i.surname,f=Object(k.b)(),b=Object(k.c)((function(e){return e.department})),g=Qe(),h=Object(he.a)(),j=r.a.useState(!1),v=Object(m.a)(j,2),y=v[0],I=v[1];return r.a.createElement("div",{className:g.root},r.a.createElement(E.a,null),r.a.createElement(ve.a,{position:"fixed",className:Object(Oe.a)(g.appBar,Object(p.a)({},g.appBarShift,y))},r.a.createElement(ye.a,null,r.a.createElement(de.a,{color:"inherit","aria-label":"open drawer",onClick:function(){I(!0)},edge:"start",className:Object(Oe.a)(g.menuButton,Object(p.a)({},g.hide,y))},r.a.createElement(_e.a,null)),r.a.createElement(ie.b,{to:"/",className:"nav-link"},r.a.createElement(O.a,{variant:"h6",noWrap:!0},"WORK KEEPER "," ")),r.a.createElement(ie.b,{to:"/profile/".concat(s),style:{marginLeft:"auto"},variant:"subtitle1"},u," ",d))),r.a.createElement(je.a,{variant:"permanent",className:Object(Oe.a)(g.drawer,(t={},Object(p.a)(t,g.drawerOpen,y),Object(p.a)(t,g.drawerClose,!y),t)),classes:{paper:Object(Oe.a)((a={},Object(p.a)(a,g.drawerOpen,y),Object(p.a)(a,g.drawerClose,!y),a))}},r.a.createElement("div",{className:g.toolbar},r.a.createElement(de.a,{onClick:function(){I(!1)}},"rtl"===h.direction?r.a.createElement(xe.a,null):r.a.createElement(we.a,null))),r.a.createElement(ke.a,null),r.a.createElement("div",{className:"menu-items"},r.a.createElement(Ne.a,null,r.a.createElement(ie.b,{to:"/",className:"nav-link"},r.a.createElement(Ce.a,{button:!0},r.a.createElement(Te.a,null,r.a.createElement(Me.a,null)),r.a.createElement(Re.a,null,"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"))),o.isMe&&Object.keys(b).length?r.a.createElement(r.a.Fragment,null,r.a.createElement(ie.b,{to:"/videochat",className:"nav-link"},r.a.createElement(Ce.a,{button:!0},r.a.createElement(Te.a,null,r.a.createElement(Ue.a,null)),r.a.createElement(Re.a,null,"\u0412\u0438\u0434\u0435\u043e"))),r.a.createElement(ie.b,{to:"/global-chat",className:"nav-link"},r.a.createElement(Ce.a,{button:!0},r.a.createElement(Te.a,null,r.a.createElement(qe.a,null)),r.a.createElement(Re.a,null,"\u0427\u0430\u0442")))):"",r.a.createElement(ie.b,{to:"#",className:"nav-link"},r.a.createElement(Ce.a,{button:!0},r.a.createElement(Te.a,null,r.a.createElement(Ye.a,null)),r.a.createElement(Re.a,null,"\u041f\u043e\u043c\u043e\u0449\u044c"))),r.a.createElement(ie.b,{to:"#",className:"nav-link"},r.a.createElement(Ce.a,{button:!0},r.a.createElement(Te.a,null,r.a.createElement(Xe.a,null)),r.a.createElement(Re.a,null,"\u041e \u043d\u0430\u0441")))),r.a.createElement(ke.a,null),r.a.createElement(Ne.a,null,o.isMe?r.a.createElement(r.a.Fragment,null,r.a.createElement(ie.b,{to:"/profile/".concat(s),className:"nav-link"},r.a.createElement(Ce.a,{button:!0},r.a.createElement(Te.a,null,r.a.createElement(Je.a,null)),r.a.createElement(Re.a,null,"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"))),r.a.createElement(ie.b,{to:"/user/login",className:"nav-link",onClick:function(){c(!1),f({type:"LOGOUT",payload:{}}),l.push("/user/login"),f({type:"IS_NOT_ME",payload:{}}),localStorage.clear()}},r.a.createElement(Ce.a,{button:!0},r.a.createElement(Te.a,null,r.a.createElement(Be.a,null)),r.a.createElement(Re.a,null,"\u0412\u044b\u0439\u0442\u0438")))):r.a.createElement(r.a.Fragment,null,r.a.createElement(ie.b,{className:"nav-link",to:"/user/registration"},r.a.createElement(Ce.a,{button:!0},r.a.createElement(Te.a,null,r.a.createElement(ze.a,null)),r.a.createElement(Re.a,null,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"))),r.a.createElement(ie.b,{className:"nav-link",to:"/user/login"},r.a.createElement(Ce.a,{button:!0},r.a.createElement(Te.a,null,r.a.createElement(Pe.a,null)),r.a.createElement(Re.a,null,"\u0412\u043e\u0439\u0442\u0438"))))))),r.a.createElement("main",{className:g.content},r.a.createElement("div",{className:g.toolbar}),n))}a(270);var et=a(163),tt=a(92),at=a(165),nt=a.n(at);function rt(){var e=Object(et.a)(["\n  display: block;\n  margin: 0 auto;\n  border-color: red;\n"]);return rt=function(){return e},e}var ct=Object(tt.css)(rt()),lt=function(){return r.a.createElement("div",{className:"sweet-loading"},r.a.createElement(nt.a,{css:ct,size:10,margin:2,color:"#36D7B7"}))},ot=Object(y.a)({root:{width:250,height:250,alignItems:"center",display:"flex"},details:{display:"flex",flexDirection:"column"},content:{flex:"1 0 auto",marginTop:20},controls:{marginTop:50,display:"flex",justifyContent:"center",alignItems:"center"},playIcon:{height:50,width:50}}),it=function(){var e=ot(),t=Object(k.c)((function(e){return e.user})),a=Object(k.c)((function(e){return e.aboutMe.isCreator})),n=Object(k.c)((function(e){return e.organizations})),c=Object(k.c)((function(e){return e.workerDeps})),l=Object(k.c)((function(e){return e.loading}));return r.a.createElement("div",{className:"main-page"},r.a.createElement("h1",null,"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"),r.a.createElement("hr",null),l?r.a.createElement(lt,null):r.a.createElement(r.a.Fragment,null,a?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"\u0414\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0439 \u043f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u0432 ",r.a.createElement(ie.b,{style:{fontSize:"inherit",textDecoration:"underline"},to:"/profile/".concat(t.userID)},"\u043b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442")," "),r.a.createElement("hr",null),r.a.createElement("p",null,"\u0412\u0430\u0448\u0438 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438:"),r.a.createElement("div",{className:"profile__page"},n.length?r.a.createElement(r.a.Fragment,null,n.map((function(t){return r.a.createElement(ie.b,{to:"/organization/".concat(t._id),key:t._id},r.a.createElement(se.a,{className:e.root},r.a.createElement(ue.a,null,r.a.createElement(me.a,{component:"img",alt:"Contemplative Reptile",height:"180",image:"https://static.tildacdn.com/tild3639-3835-4237-b964-623565623163/MoscowCityofficerentals.png",title:"Contemplative Reptile"}),r.a.createElement(pe.a,null,r.a.createElement(O.a,{style:{marginTop:10},gutterBottom:!0,variant:"h5",component:"h2"},t.name)))))}))):r.a.createElement("p",null,"\u041d\u0435\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0445 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0439"))):r.a.createElement(r.a.Fragment,null,c.length?r.a.createElement("div",{className:"profile__page"},c.map((function(t){return r.a.createElement(ie.b,{to:"/department/".concat(t._id),key:t._id},r.a.createElement(se.a,{className:e.root},r.a.createElement(ue.a,null,r.a.createElement(me.a,{component:"img",alt:"Contemplative Reptile",height:"170",image:"https://cdnb.artstation.com/p/assets/images/images/001/973/811/large/leva-tuskliy-4.jpg?1455395165",title:"Contemplative Reptile"}),r.a.createElement(pe.a,null,r.a.createElement(O.a,{style:{marginTop:10},gutterBottom:!0,variant:"h6",component:"h6"},t.name)))))}))):r.a.createElement("p",null," \u0423\u0432\u0430\u0436\u0430\u0435\u043c\u044b\u0439 ",t.name+" "+t.surname,", \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435, \u043f\u043e\u043a\u0430 \u0412\u0430\u0441 \u0434\u043e\u0431\u0430\u0432\u044f\u0442 \u0432 \u0441\u043f\u0438\u0441\u043e\u043a \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435 "))))},st=a(166);function ut(e){var t=e.open,a=e.handleClose,c=e.orgID,l=Object(n.useState)(""),o=Object(m.a)(l,2),s=o[0],p=o[1],d=Object(k.b)(),E=function(){var e=Object(u.a)(i.a.mark((function e(){var t,n,r,l,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a(),t=JSON.parse(localStorage.getItem("redux")),n=t.user.userID,e.prev=2,!s.trim()){e.next=12;break}return r={nameDepart:s.trim(),userID:n,orgID:c},e.next=7,fetch("".concat("https://workkeeper.ru","/department"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 7:return l=e.sent,e.next=10,l.json();case 10:o=e.sent,l.ok&&(d(ce(c,o)),d(re(c,o)));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement($.a,{open:t,onClose:a,"aria-labelledby":"form-dialog-title"},r.a.createElement(ne.a,{id:"form-dialog-title"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0442\u0434\u0435\u043b"),r.a.createElement(te.a,null,r.a.createElement(ae.a,null,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u0442\u0434\u0435\u043b\u0430/\u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f:"),r.a.createElement("form",null,r.a.createElement(h.a,{margin:"dense",id:"name",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",type:"text",fullWidth:!0,onChange:function(e){return p(e.target.value)},autoFocus:!0}))),r.a.createElement(ee.a,null,r.a.createElement(j.a,{onClick:a,color:"primary"},"\u041e\u0442\u043c\u0435\u043d\u0430"),r.a.createElement(j.a,{onClick:E,color:"primary"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")))}a(275);var mt=Object(y.a)((function(e){return{root:{width:250,height:250,alignItems:"center",display:"flex"},details:{display:"flex",flexDirection:"column"},content:{flex:"1 0 auto",marginTop:20},controls:{marginTop:50,display:"flex",justifyContent:"center",alignItems:"center"},playIcon:{height:50,width:50}}})),pt=function(e){Object(st.a)(e);var t=mt(),a=Object(k.c)((function(e){return e.aboutMe.isCreator})),c=Object(k.c)((function(e){return e.organizations})),l=Object(N.h)().id,o=Object(n.useState)({}),i=Object(m.a)(o,2),s=i[0],u=i[1],p=Object(N.g)(),E=r.a.useState(!1),f=Object(m.a)(E,2),b=f[0],g=f[1],h=Object(k.c)((function(e){return e.departments[l]}))||[];Object(n.useEffect)((function(){var e=c.find((function(e){return e._id===l}));e&&u(Object(d.a)({},e))}),[]);return r.a.createElement(r.a.Fragment,null,a?r.a.createElement("div",{className:"org-container"},Object.keys(s).length?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,s.name),r.a.createElement("hr",null),r.a.createElement("div",{className:"dep-container"},r.a.createElement(se.a,{className:t.root},r.a.createElement("div",{className:t.details},r.a.createElement("div",{className:t.controls},r.a.createElement(de.a,{onClick:function(){g(!0)},"aria-label":"play/pause"},r.a.createElement(fe.a,{className:t.playIcon}))),r.a.createElement(pe.a,{className:t.content},r.a.createElement(O.a,{component:"h5",variant:"h5"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0442\u0434\u0435\u043b")))),b&&r.a.createElement(ut,{open:b,handleClose:function(){g(!1)},orgID:s._id}),h.length?r.a.createElement(r.a.Fragment,null,h.map((function(e){return r.a.createElement(ie.b,{to:"/department/".concat(e._id),key:e._id},r.a.createElement(se.a,{className:t.root},r.a.createElement(ue.a,null,r.a.createElement(me.a,{component:"img",alt:"Contemplative Reptile",height:"170",image:"https://cdnb.artstation.com/p/assets/images/images/001/973/811/large/leva-tuskliy-4.jpg?1455395165",title:"Contemplative Reptile"}),r.a.createElement(pe.a,null,r.a.createElement(O.a,{style:{marginTop:10},gutterBottom:!0,variant:"h6",component:"h6"},e.name)))))}))):null),r.a.createElement(j.a,{className:"btn",variant:"contained",onClick:function(){p.goBack()},color:"primary"},"\u041d\u0430\u0437\u0430\u0434")):null):"\u0412\u044b \u043a\u0430\u043a \u0441\u044e\u0434\u0430 \u043f\u043e\u043f\u0430\u043b\u0438?")};function dt(e){var t=e.handleClose,a=e._id,c=e.open,l=e.orgID,o=e.setAddWorker,s=e.setMesFromBack,p=Object(n.useState)(""),d=Object(m.a)(p,2),E=d[0],f=d[1],b=Object(k.b)(),g=function(){var e=Object(u.a)(i.a.mark((function e(){var n,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t(),e.prev=1,!E.trim()){e.next=14;break}return n={workerEmail:E.trim()},e.next=6,fetch("".concat("https://workkeeper.ru","/department/").concat(a),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 6:return r=e.sent,e.next=9,r.json();case 9:if(c=e.sent,!r.ok){e.next=13;break}return b(le(l,a,c)),e.abrupt("return",o(c));case 13:return e.abrupt("return",s(c.message));case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),s(e.t0.message),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement($.a,{open:c,onClose:t,"aria-labelledby":"form-dialog-title"},r.a.createElement(ne.a,{id:"form-dialog-title"},"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 email \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"),r.a.createElement(te.a,null,r.a.createElement("form",null,r.a.createElement(h.a,{margin:"dense",id:"name",label:"Email",type:"text",fullWidth:!0,onChange:function(e){return f(e.target.value)},autoFocus:!0}))),r.a.createElement(ee.a,null,r.a.createElement(j.a,{onClick:t,color:"primary"},"\u041e\u0442\u043c\u0435\u043d\u0430"),r.a.createElement(j.a,{onClick:g,color:"primary"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")))}var Et=Object(y.a)({root:{width:250,height:250},title:{fontSize:14},pos:{marginBottom:12}}),ft=function(e){var t=e.workersArr,a=void 0===t?[]:t,n=Et();return r.a.createElement(r.a.Fragment,null,a.length?r.a.createElement(r.a.Fragment,null,a.map((function(e){return r.a.createElement(se.a,{key:e._id,className:n.root},r.a.createElement("div",{className:n.details},r.a.createElement(pe.a,{style:{marginTop:35},className:n.content},r.a.createElement(O.a,{variant:"h5",component:"h2"},e.name),r.a.createElement(O.a,{variant:"h5",component:"h2"},e.surname)),r.a.createElement("div",{className:n.controls},r.a.createElement(ie.b,{to:"/worker/".concat(e._id)},r.a.createElement(j.a,{className:"btn",style:{padding:"5px 10px"},size:"small"},"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435")))))}))):null)},bt=(a(276),Object(y.a)((function(e){return{root:{width:250,height:250,alignItems:"center",display:"flex"},details:{display:"flex",flexDirection:"column"},content:{flex:"1 0 auto",marginTop:20},controls:{marginTop:50,display:"flex",justifyContent:"center",alignItems:"center"},playIcon:{height:50,width:50}}}))),gt=function(){var e=bt(),t=Object(k.c)((function(e){return e.aboutMe.isCreator})),a=Object(k.c)((function(e){return e.organizations})),c=Object(N.h)().id,l=Object(k.b)(),o=Object(n.useState)({}),i=Object(m.a)(o,2),s=i[0],u=i[1],p=Object(n.useState)({}),d=Object(m.a)(p,2),E=d[0],f=d[1],b=Object(n.useState)(""),g=Object(m.a)(b,2),h=g[0],v=g[1],y=Object(N.g)(),I=Object(n.useState)(!1),_=Object(m.a)(I,2),S=_[0],w=_[1],D=Object(n.useState)(""),x=Object(m.a)(D,2),C=x[0],T=x[1],R=Object(k.c)((function(e){return e.departments})),A=Object(k.c)((function(e){return e.department.workers}));Object(n.useEffect)((function(){var e=a.find((function(e){return e.departments.find((function(e){return e._id===c}))}))._id;if(e){var t=R[e].find((function(e){return e._id===c}));u(t),v(e),l({type:"DEP_ACTUAL",payload:t})}}),[E]);return r.a.createElement("div",{className:"department-container"},Object.keys(s).length?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,s.name),r.a.createElement("hr",null),r.a.createElement("div",{className:"workers-container"},t?r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{className:e.root},r.a.createElement("div",{className:e.details},r.a.createElement("div",{className:e.controls},r.a.createElement(de.a,{onClick:function(){w(!0)},"aria-label":"play/pause"},r.a.createElement(fe.a,{className:e.playIcon}))),r.a.createElement(pe.a,{className:e.content},r.a.createElement(O.a,{component:"h5",variant:"h5"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430")))),C&&r.a.createElement("span",{style:{color:"red !important",fontSize:"small"}}," "+C),S&&r.a.createElement(dt,Object.assign({open:S,handleClose:function(){w(!1)}},s,{orgID:h,setAddWorker:f,setMesFromBack:T}))):null,r.a.createElement(ft,{workersArr:A,mesFromBack:C}))):null,r.a.createElement(j.a,{className:"btn",variant:"contained",onClick:function(){y.goBack()},color:"primary"},"\u041d\u0430\u0437\u0430\u0434"))},Ot=(a(277),function(){var e=Object(N.h)().id,t=Object(n.useState)({}),a=Object(m.a)(t,2),c=a[0],l=a[1],o=Object(N.g)(),i=Object(k.c)((function(e){return e.department.workers}));Object(n.useEffect)((function(){var t=i.find((function(t){return t._id===e}));l(t)}),[]);return r.a.createElement("div",{className:"worker-container"},r.a.createElement("h1",null,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0435"),r.a.createElement("hr",null),Object.keys(c).length?r.a.createElement("div",{className:"user-info"},r.a.createElement("h1",null,c.name+" "+c.surname),r.a.createElement("p",null,"Email: ",c.email)):null,r.a.createElement(j.a,{className:"btn",variant:"contained",onClick:function(){o.goBack()},color:"primary"},"\u041d\u0430\u0437\u0430\u0434"))}),ht=function(e){return{type:"MAIN_USER",payload:e}},jt=function(e,t){return{type:"MAIN_DEPARTMENTS",payload:{orgID:e,departments:t}}},vt=function(e){return{type:"MAIN_CREATOR_DEPARTMENTS",payload:{organization:e}}},yt=function(e){return{type:"MAIN_CREATOR_ORGANIZATIONS",payload:{organization:e}}},Nt=function(e){return{type:"MAIN_ORGANIZATIONS",payload:e}};var kt=function(){var e=Object(k.c)((function(e){return e.aboutMe})),t=Object(k.c)((function(e){return e.user})),a=Object(n.useState)(!1),c=Object(m.a)(a,2),l=c[0],o=c[1],p=Object(k.b)();return Object(n.useEffect)((function(){Object(u.a)(i.a.mark((function e(){var a,n,r,c,o,u,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p({type:"IS_LOADING",payload:{}}),e.prev=1,!1===l){e.next=24;break}return e.next=5,fetch("".concat("https://workkeeper.ru","/organization/?userID=").concat(t.userID));case 5:return a=e.sent,e.next=8,a.json();case 8:if(n=e.sent,!a.ok){e.next=24;break}if(r=n.departments,c=n.organization,o=Object(s.a)(n,["departments","organization"]),c.length){e.next=21;break}return u=r[0].organization,m=u._id,u.name,p({type:"MAIN_IS_NOT_CREATOR",payload:!1}),p(ht(o)),p(jt(m,r)),p(Nt(u)),p({type:"BACK_WORKER_DEPS",payload:{depArr:r}}),p({type:"NOT_LOADING",payload:{}}),e.abrupt("return");case 21:p(ht(o)),p(vt(c)),p(yt(c));case 24:p({type:"NOT_LOADING",payload:{}}),e.next=31;break;case 27:e.prev=27,e.t0=e.catch(1),console.log(e.t0),p({type:"NOT_LOADING",payload:{}});case 31:case"end":return e.stop()}}),e,null,[[1,27]])})))()}),[l]),r.a.createElement("div",{className:"App"},r.a.createElement($e,{setLoggedIn:o},r.a.createElement(N.d,null,r.a.createElement(N.b,{exact:!0,path:"/user/registration"},r.a.createElement(D,{setLoggedIn:o})),r.a.createElement(N.b,{exact:!0,path:"/user/login"},r.a.createElement(x,{setLoggedIn:o})),r.a.createElement(N.b,{exact:!0,path:"/organization/:id"},r.a.createElement(pt,null)),r.a.createElement(N.b,{exact:!0,path:"/worker/:id"},r.a.createElement(Ot,null)),r.a.createElement(N.b,{exact:!0,path:"/department/:id"},r.a.createElement(gt,null)),r.a.createElement(N.b,{exact:!0,path:"/videochat",component:Q}),r.a.createElement(N.b,{exact:!0,path:"/global-chat",component:P}),r.a.createElement(C,{exact:!0,path:"/profile/:id"},r.a.createElement(ge,null)),r.a.createElement(N.b,{exact:!0,path:"/"},e.isMe?r.a.createElement(it,null):r.a.createElement(N.a,{to:"/user/login"})))))},It=a(43),_t=function(){return JSON.parse(localStorage.getItem("redux"))||{aboutMe:{isCreator:!0},user:{},organizations:[],departments:{},department:{},workerDeps:[],loading:!1}},St=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTRATION":case"MAIN_USER":case"LOGIN":return Object(d.a)(Object(d.a)({},e),t.payload);default:return e}},wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IS_ME":return Object(d.a)(Object(d.a)({},e),{},{isMe:!0,isCreator:!0});case"IS_NOT_ME":return Object(d.a)(Object(d.a)({},e),{},{isMe:!1});case"MAIN_IS_CREATOR":return Object(d.a)(Object(d.a)({},e),{},{isCreator:!0});case"MAIN_IS_NOT_CREATOR":return Object(d.a)(Object(d.a)({},e),{},{isCreator:!1});default:return e}},Dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORG_ADD_ORG":return[].concat(Object(A.a)(e),[Object(d.a)({},t.payload)]);case"DEP_TO_ORG":return e.map((function(e){return e._id===t.payload.orgID?Object(d.a)(Object(d.a)({},e),{},{departments:[].concat(Object(A.a)(e.departments),[t.payload.depObj])}):e}));case"MAIN_ORGANIZATIONS":return[t.payload];case"MAIN_CREATOR_ORGANIZATIONS":return Object(A.a)(t.payload.organization);default:return e}},xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DEP_ADD_DEP":return Object(d.a)(Object(d.a)({},e),{},Object(p.a)({},t.payload.orgID,[].concat(Object(A.a)(e[t.payload.orgID]),[t.payload.depObject])));case"ORG_KEY_IN_DEP":return Object(d.a)(Object(d.a)({},e),{},Object(p.a)({},t.payload.orgID,[]));case"WORKER_TO_DEP":return Object(d.a)(Object(d.a)({},e),{},Object(p.a)({},t.payload.orgID,e[t.payload.orgID].map((function(e){return e._id===t.payload.depID?Object(d.a)(Object(d.a)({},e),{},{workers:[].concat(Object(A.a)(e.workers),[t.payload.workerObj])}):e}))));case"MAIN_DEPARTMENTS":return Object(p.a)({},t.payload.orgID,Object(A.a)(t.payload.departments));case"MAIN_CREATOR_DEPARTMENTS":for(var a=t.payload.organization,n={},r=0;r<a.length;r++)n[a[r]._id]=a[r].departments;return n;default:return e}},Ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DEP_ACTUAL":return Object(d.a)(Object(d.a)({},e),t.payload);case"DEP_CLEAR_ACTUAL":return{};default:return e}},Tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BACK_WORKER_DEPS":return Object(A.a)(t.payload.depArr);default:return e}},Rt=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IS_LOADING":return!0;case"NOT_LOADING":return!1;default:return e}},At=Object(It.combineReducers)({user:St,aboutMe:wt,organizations:Dt,departments:xt,department:Ct,workerDeps:Tt,loading:Rt}),Mt=function(e,t){return"LOGOUT"===t.type&&(e=void 0,localStorage.clear()),At(e,t)},Gt=a(167),zt=Object(Gt.composeWithDevTools)(),Ft=Object(It.createStore)(Mt,_t(),zt);Ft.subscribe((function(){localStorage.setItem("redux",JSON.stringify(Ft.getState()))}));var Pt=Ft;l.a.render(r.a.createElement(k.a,{store:Pt},r.a.createElement(ie.a,null,r.a.createElement(kt,null))),document.getElementById("root"))}},[[178,1,2]]]);
//# sourceMappingURL=main.671febf4.chunk.js.map